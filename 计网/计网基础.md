## 浏览器从输入url开始发生了什么
1. 输入地址
输入网址的时候，浏览器会根据历史记录，书签等地方匹配可能的 url 了，找到已经输入的字符串可能对应的 url，然后给出智能提示，让你可以补全url地址
2. 浏览器查找域名的 IP 地址
   1. 先查看本地硬盘的 `hosts` 文件
   2. 发出一个 DNS请求到`本地DNS服务器`(本地DNS服务器一般都是你的网络接入服务器商提供，比如中国电信，中国移动)
   3. `根DNS服务器`
   4. 本地DNS服务器继续向`域服务器`发出请求
   5. 本地DNS服务器向`域名解析服务器`发出请求
3. 浏览器向 web 服务器发送一个 HTTP 请求
浏览器会以一个随机端口（1024<端口<65535）向服务器的WEB程序（常用的有httpd,nginx等）80端口发起TCP的连接请求，之后通过三握手的方式建立tcp连接，并发起一个请求。
4. 服务器的永久重定向响应
服务器给浏览器响应一个301永久重定向响应，这样浏览器就会访问http://www.google.com/而非http://google.com/。（搜索引擎排名）
5. 服务器处理请求
后端从在固定的端口接收到TCP报文开始，它会对TCP连接进行处理，对HTTP协议进行解析，并按照报文格式进一步封装成HTTP Request对象，供上层使用。（一些网站会将请求转到`NGINX反向代理服务器`中，将同一个应用部署在多台服务器上，将大量用户的请求分配给多台机器处理。）
6. 服务器返回一个 HTTP 响应
服务器收到了我们的请求，也处理我们的请求，到这一步，它会把它的处理结果返回，也就是返回一个HTPP响应。
7. 浏览器显示 HTML
- 解析html以构建dom树 -> 构建render树 -> 布局render树 -> 绘制render树
- 浏览器在解析html文件时，会”自上而下“加载，并在加载过程中进行解析渲染。在解析过程中，如果遇到请求外部资源时，如图片、外链的CSS、iconfont等，请求过程是异步的，并不会影响html文档进行加载。
- 解析过程中，浏览器首先会解析HTML文件构建DOM树，然后解析CSS文件构建渲染树，等到渲染树构建完成后，浏览器开始布局渲染树并将其绘制到屏幕上。（期间会涉及到回流重绘）
8. 浏览器发送请求获取嵌入在 HTML 中的资源（如图片、音频、视频、CSS、JS等等）